## 3. Functions	
	
### Small
??? ??? Function? ?????? ?    
??? ??? ?? ???? ??? ?   
??? Function? ? ??? ?? ?? ? ???, ???? ??? ??? ??? Function? ??????? ???.
	

	
	
	
```java
public static String renderPageWithSetupsAndTeardowns(PageData pageData, boolean isSuite ) throws Exception {    
     boolean isTestPage = pageData.hasAttribute("Test");    
	 if (isTestPage) {  
		 WikiPage testPage = pageData.getWikiPage();    
		 StringBuffer newPageContent = new StringBuffer();  
		 includeSetupPages(testPage, newPageContent, isSuite);  
		 newPageContent.append(pageData.getContent());  
		 includeTeardownPages(testPage, newPageContent, isSuite);   
		 pageData.setContent(newPageContent.toString());    
     }  
    return pageData.getHtml(); 
}  
```	
	
	
						
### Blocks and Indenting					
if statements, else statements, while statements ?? ?? ??? single? ??,				
?? Function ??? ????? ??? ? ??? ?? ? ??? ??? ?? ? ??? ????.				
						
### Do One Thing					
						
FUNCTIONS SHOULD DO ONE THING. THEY SHOULD DO IT WELL.				
THEY SHOULD DO IT ONLY.				
??? ??? ?? ??? ? ? ??(?, ??? ??)?  ? ?? ??? ??? ??? ???? ?????.				
```java
public static String renderPageWithSetupsAndTeardowns(				
		PageData pageData, boolean isSuite) throws Exception {				
		if (isTestPage(pageData))				
		    includeSetupAndTeardownPages(pageData, isSuite);				
		return pageData.getHtml();				
}

```
				
?? ??? ???  ????? ?? ????.				
?? ? ?? ?? ? ?????. ?? IF?? IF??? ??? ???? ?? ? ? ???.				
?? ??? ??? ????? ??? ?? ????? ? ? ??.				
				
?? ?? ??? ??? ? ??? ???? ?? ?? ??? ? ?? ??? ?? ???? ??? ?? ?? ????				
?? ??? ? ?? ? ? ???? ??? ? ? ??. ???? ???? ? ?? ????? ??? ???.				
						
### Sections within Functions				
?? ??? ??? ??? ?? ??(declarations, initializations, and sieve)? ??? ????, ?? ??? ?? ??? ??? ????? ?? ? ?????.	
```java
	public static int[] generatePrimes(int maxValue)			
	{			
		if (maxValue >= 2) // the only valid case			
		{			
			// declarations			
			int s = maxValue + 1; // size of array			
			boolean[] f = new boolean[s];			
			int i;			
			// initialize array to true.			
			for (i = 0; i < s; i++)			
				f[i] = true;			
			// get rid of known non-primes			
			f[0] = f[1] = false;			
			// sieve			
			int j;			
			for (i = 2; i < Math.sqrt(s) + 1; i++)			
			{			
				if (f[i]) // if i is uncrossed, cross its multiples.			
				{			
					for (j = 2 * i; j < s; j += i)			
					f[j] = false; // multiple is not prime			
				}			
			}			
			// how many primes are there?			
			int count = 0;			
			for (i = 0; i < s; i++)			
			{			
				if (f[i])			
				count++; // bump count.			
			}			
			int[] primes = new int[count];			
			// move the primes into the result			
			for (i = 0, j = 0; i < s; i++)			
			{			
				if (f[i]) // if prime			
				primes[j++] = i;			
			}			
			return primes; // return the primes			
		}			
		else // maxValue < 2			
			return new int[0]; // return null array if bad input.			
	}		

```
					
						
### One Level of Abstraction per Function					
						
?? ??? ??? ??? ???? ?? ??? ????? ??? ?? ???? ??? ???? ??? ????? ??? ? ? ??.				
????? ???? ??? ??? ??? ?? ?? ?? ? ?? ????? ???? ??? ?? ? ? ??? ?????.			
						
### Reading Code from Top to Bottom: The Stepdown Rule					
						
??? top-down ?? ???? ???? ??, ? ??? ???? ??? ????? Funtion? ?? ??? ?? ???? ?? ??. ??? ??? ??? ??? Abstraction? ???? ?? ??? ???? ?? ??? ???? ????.				
						
	To include the setups and teardowns, we include setups, then we include the test page content,			
	and then we include the teardowns.			
		To include the setups, we include the suite setup if this is a suite, then we include the		
		regular setup.		
		To include the suite setup, we search the parent hierarchy for the “SuiteSetUp” page		
		and add an include statement with the path of that page.		
		To search the parent. . .		
						
?? ??????? ? ??? ??? ?? ??? ??? ???? ???? ?? ???.				
??? ?? ?? skill? ?? ????? Function? ?? ????, ??? ??? ????? ?? ?? ????.				
						
						
						
### Switch Statements						
```java			
public Money calculatePay(Employee e) throws InvalidEmployeeType {				
	switch (e.type) {			
		case COMMISSIONED:		
				return calculateCommissionedPay(e);
		case HOURLY:		
				return calculateHourlyPay(e);
		case SALARIED:		
				return calculateSalariedPay(e);
		default:		
				throw new InvalidEmployeeType(e.type);
	}			
}				
```						
						
#### ???				
1. ??? ?? ??? ??? ? ? ?? -> OCP(Open Closed Principle)? ??				
2. ??? ??? ?? ??. -> SRP(Single Responsibilty Principle) ??				
				
?? ??? ?? Function?? ??? ? ?? ? ??? ? ? ??? ???.

    isPayday(Employee e, Date date),				
    or				
    deliverPay(Employee e, Money pay),

#### ???				
?, Abstraction Factory ? Gang of Four Design Patterns?? ??? Abstract Factory? ??????			
Concrete class? ?? Interface? ???? ???? ??? ????? ????? ?? ???.			
switch statement? Abstract Factory? ??, ? Factory? switch statement? ???? Polymorphism? ???? ??? implemented Employee? ????? ???? ???? ??.			
calculatePay, isPayday, and deliverPay ? abstract method?? ???(polymorphically)? ??? interface? ?? ????.			
```java				
public abstract class Employee {			
	public abstract boolean isPayday();		
	public abstract Money calculatePay();		
	public abstract void deliverPay(Money pay);		
}			
			
public interface EmployeeFactory {			
	public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType;		
}			
			
public class EmployeeFactoryImpl implements EmployeeFactory {			
	public Employee makeEmployee(EmployeeRecord r) throws InvalidEmployeeType {		
		switch (r.type) {	
		case COMMISSIONED:	
			return new CommissionedEmployee(r) ;
		case HOURLY:	
			return new HourlyEmployee(r);
		case SALARIED:	
			return new SalariedEmploye(r);
		default:	
			throw new InvalidEmployeeType(r.type);
		}	
}	
```			
						
### Use Descriptive Names					
						
????? ??? ???? ?? ??? ??? 				
Do one thing? ?? smaller Fuction? ?? ?? name? ?? ??? ????.				
				
Don’t be afraid to make a name long				
Don’t be afraid to spend time choosing a name				
Choosing descriptive names will clarify the design of the module				
Be consistent in your names				
						
						
### Function Arguments					
the ideal number of arguments for a funtion is zero				
						
### Common Monadic Forms					
???? ????				
Boolean? ?? ??  input argument? ?? ??? ? ??.				
boolean fileExists(“MyFile”).				
input argument? ?? ??? ??? argument? ???? ??				
InputStream fileOpen(“MyFile”)				
???? ??, ??? ?? ??? ???? ??? ?? input argument? ?? ????  state? ?? ? ??.				
void passwordAttemptFailedNtimes(int attempts).				
?? Function ? input argument? ????? ??, ? ??? ????? ?????? ??.				
?, StringBuffer transform(StringBuffer in)? void transform(StringBuffer out) ?? ?? ????.				
						
						
### Flag Arguments					
						
Flag Arguments? ??????				
??? Function? ??? ??? ?? ???? Function?? ???  ?? ? ? ??.				
				
render(boolean isSuite)				
				
renderForSuite() and renderForSingleTest().				
						
### Dyadic Functions					
						
writeField(name)? ??? ?? ???? ???, writeField(output-Stream, name)?? ??? ???.				
Point p = new Point(0,0); ??? ??? argument? ?? ?? ????? ???.				
assertEquals(expected, actual) ??? ??? ?????.				
						
### Triads					
assertEquals(message, expected, actual).				
??? ?? 3?? argument? ?? ???? ??? ???? ?? ?? ???? ???? ???.				
						
### Argument Objects					
						
Circle makeCircle(double x, double y, double radius);				
Circle makeCircle(Point center, double radius);				
						
						
### Verbs and Keywords					
						
verb/noun pair form				
	writeField(name)			
the keyword form				
	Argument? ?? ??? Function?? ???.			
	e.i. assertExpectedEqualsActual(expected, actual)			
						
						
						
### Have No Side Effects						
						
Function? ??? ??? ?? ??? ?? ???? ? ??? ???? ???? ??? ???? ??? ??? 					
???? ???? ?? ??? ? ?? ???? ???? ??? ??? ????? ????					
?? ?????? ??? ??? ????. ???? ???? ??? ??? ??? ??? ??? ????					
Function? ??? ?? ??.					
						
### Don't Repeat Yourself						
						
Duplication may be the root of all evil in software					
